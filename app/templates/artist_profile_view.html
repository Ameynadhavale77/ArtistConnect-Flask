{% extends "base.html" %}
{% block content %}
<div class="profile">
  <div class="profile-header">
    {% if artist.artist_profile.profile_image %}
      <div style="margin-bottom: 20px;">
        <img src="{{ url_for('static', filename='uploads/' + artist.artist_profile.profile_image) }}" 
             style="width: 150px; height: 150px; object-fit: cover; border-radius: 50%; border: 3px solid #ddd;" 
             alt="Profile picture of {{ artist.name }}">
      </div>
    {% endif %}
    <h2>{{ artist.name }}</h2>
    <p class="muted">{{ artist.artist_profile.category }} Â· {{ artist.artist_profile.location }}</p>
  </div>
  <p>{{ artist.artist_profile.bio|safe }}</p>
  {% if artist.artist_profile.charges %}
    <p><strong>Charges:</strong> {{ artist.artist_profile.charges }}</p>
  {% endif %}
  <h3>Demo Links</h3>
  <ul>
    {% for line in (artist.artist_profile.demo_links or '').splitlines() if line.strip() %}
      <li><a class="link" href="{{ line.strip() }}" target="_blank">{{ line.strip() }}</a></li>
    {% else %}
      <li class="muted">No demos yet.</li>
    {% endfor %}
  </ul>
  {% if session.get('user_id') %}
    {% set uid = session.get('user_id') %}
  {% endif %}
  {% if not session.get('user_id') or (session.get('user_id') and artist.id != session.get('user_id')) %}
    <a class="btn" href="{{ url_for('request_create', artist_user_id=artist.id) }}">Send Booking Request</a>
  {% endif %}
</div>
{% endblock %}