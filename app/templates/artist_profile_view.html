{% extends "base.html" %}
{% block content %}
<div class="profile">
  <div class="profile-header">
    {% if artist.artist_profile.profile_image %}
      <div style="margin-bottom: 20px;">
        <img src="{{ url_for('static', filename='uploads/' + artist.artist_profile.profile_image) }}" 
             style="width: 150px; height: 150px; object-fit: cover; border-radius: 50%; border: 3px solid #ddd;" 
             alt="Profile picture of {{ artist.name }}">
      </div>
    {% endif %}
    <h2>{{ artist.name }} 
      <span style="background: #0f3b1f; color: #b1f7c2; padding: 4px 8px; border-radius: 999px; font-size: 12px; margin-left: 8px;">✅ VERIFIED</span>
    </h2>
    <p class="muted">{{ artist.artist_profile.category }} · {{ artist.artist_profile.location }}</p>
    
    <div style="display: flex; gap: 12px; margin: 16px 0; flex-wrap: wrap;">
      <span class="badge" style="background: #0f203b; color: #b1d1f7; border: 1px solid #4f8cff;">
        🛡️ Identity Verified
      </span>
      <span class="badge" style="background: #0f3b1f; color: #b1f7c2; border: 1px solid #22d3ee;">
        ⭐ Trusted Performer
      </span>
      <span class="badge" style="background: #3b2e0f; color: #ffe6a7; border: 1px solid #fbbf24;">
        📞 Responsive
      </span>
    </div>
  </div>
  <p>{{ artist.artist_profile.bio|safe }}</p>
  {% if artist.artist_profile.charges %}
    <p><strong>Charges:</strong> {{ artist.artist_profile.charges }}</p>
  {% endif %}
  <h3>Demo Links</h3>
  <ul>
    {% for line in (artist.artist_profile.demo_links or '').splitlines() if line.strip() %}
      <li><a class="link" href="{{ line.strip() }}" target="_blank">{{ line.strip() }}</a></li>
    {% else %}
      <li class="muted">No demos yet.</li>
    {% endfor %}
  </ul>
  {% if session.get('user_id') %}
    {% set uid = session.get('user_id') %}
  {% endif %}
  {% if not session.get('user_id') or (session.get('user_id') and artist.id != session.get('user_id')) %}
    <a class="btn" href="{{ url_for('request_create', artist_user_id=artist.id) }}">Send Booking Request</a>
  {% endif %}
</div>
{% endblock %}